project:
  name: "test_multi_module"
  version: "1.0.0"
  description: "多模块Vivado工程测试"

fpga:
  vendor: "xilinx"
  part: "xc7z045ffg676-2"
  top_module: "top"
  vivado_version: "2018.2"
  vivado_settings:
    target_language: "verilog"
    synthesis_flow: "project"

source:
  hdl:
    - path: "src/hdl/*.v"
      language: "verilog"
      language_auto_detect: true
      file_type: "source"
      exclude: ["*_test.v", "*_tb.v"]
      recursive: true

  constraints:
    - path: "src/constraints/*.xdc"
      type: "xdc"

build:
  synthesis:
    strategy: "Vivado Synthesis Defaults"
    options:
      flatten_hierarchy: "rebuilt"

  implementation:
    options:
      opt_design: true
      place_design: true
      route_design: true

  bitstream:
    options: {}

  bin_merge:
    enabled: true
    output_path: "build/boot.bin"
    components:
      - type: "fsbl"
        path: "build/fsbl.elf"
        offset: "0x00000000"
      - type: "bitstream"
        path: "build/test_multi_module.bit"
        offset: "0x00100000"

programming:
  cable: "xilinx_tcf"
  target: "localhost:3121"
  flash: false